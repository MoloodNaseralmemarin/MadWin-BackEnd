<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
<script src="~/js/toastrHelper.js" asp-append-version="true"></script>


<script type="text/javascript">

    function updateCartUI(response) {
        $("#Cart-total").text(response.totalCount);
        $("#Price-total").text(response.totalPrice.toLocaleString());
        location.reload(); // یا بعداً با Ajax فقط ردیف رو آپدیت می‌کنیم
        return false;
    }

    function increaseCart(productId) {
        $.post('/Cart/Increase', { productId: productId }, function (response) {
            updateCartUI(response);
            return false;
        });
    }

    function decreaseCart(productId) {
        $.post('/Cart/Decrease', { productId: productId }, function (response) {
            updateCartUI(response);
             return false;
        });
    }

    function removeCart(productId) {
        $.post('/Cart/Remove', { productId: productId }, function (response) {
            updateCartUI(response);
            debugger
            toastr.success('محصول انتخابی با موفقیت از سبد خرید حذف شد.');
        }).fail(function () {
            toastr.error('خطا در حذف محصول از سبد خرید. لطفاً دوباره تلاش کنید.');
        });
    }


</script>


<script src="~/js/datepicker/datepicker-config.js"></script>




